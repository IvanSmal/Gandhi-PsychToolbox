function starttrial(mh)
mh.trialstarted = 1;
mh.evalgraphics('gr.trialstarted=1;');
mh.trial.tstarttime=getsecs;
mh.setstate('start_autogenerated')

xippmex('digout', 4, 1)
for i=1:200
    mh.evalgraphics('gr.flipped=0')
    pause(0.001)
end

xippmex('digout', 4, 0);
[~,~,events]=xippmex('digin');
end